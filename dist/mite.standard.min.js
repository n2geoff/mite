/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var R=(j,q,...z)=>{let D=q&&typeof q==="object"&&!q.flat&&!q.tag;return{tag:j||"fragment",props:D?q:{},children:(D?z:[q,...z]).flat(1/0).filter((B)=>B!=null&&B!==!1&&B!=="")}};var Q=(j,q=!1)=>{if(typeof j!=="object")return document.createTextNode(j);if(j.tag==="fragment"){let B=document.createDocumentFragment();return j.children.forEach((F)=>B.appendChild(Q(F,q))),B}let z=q||j.tag==="svg",D=z?document.createElementNS("http://www.w3.org/2000/svg",j.tag):document.createElement(j.tag);if(_(D,j.props),j.children.forEach((B)=>D.appendChild(Q(B,z))),j.props?.oncreate)setTimeout(()=>j.props.oncreate(D));return D},_=(j,q={},z={})=>{for(let D in q)if(q[D]!==z[D])Z(j,D,q[D],z[D]);for(let D in z)if(!(D in q))Z(j,D,null,z[D])},Z=(j,q,z,D)=>{if(q.startsWith("on")){let B=q.slice(2).toLowerCase();if(D)j.removeEventListener(B,D);if(z)j.addEventListener(B,z)}else if(q==="style"){if(typeof z==="string")j.style.cssText=z;else if(j.style.cssText="",z)Object.assign(j.style,z)}else if(q in j&&q!=="list"&&q!=="form")j[q]=z==null?"":z;else if(z==null||z===!1)j.removeAttribute(q);else j.setAttribute(q,z===!0?"":z)},X=(j,q,z,D=0)=>{let B=j.childNodes[D];if(q==null)return B&&j.removeChild(B);if(!B)return j.appendChild(Q(q));let F=typeof q!=="object";if(F!==(typeof z!=="object")||(F?q!==z:q.tag!==z.tag||q.props?.key!==z.props?.key))return j.replaceChild(Q(q),B);if(!F){_(B,q.props,z.props);let I=q.children,L=z.children,O=Math.max(I.length,L.length),U=q.tag==="fragment"?j:B;for(let J=0;J<O;J++)X(U,I[J],L[J],J)}else if(B.nodeValue!==q)B.nodeValue=q},Y=(j,q=!1)=>{let z={...j},D=[];return{getState:()=>z,update:(B)=>{if(z={...z,...B},q)console.log("State Update:",z);D.forEach((F)=>F(z))},subscribe:(B)=>D.push(B)}},$=(j)=>j?.subscribe?j:Y(j||{}),A=(j,q,z={})=>{let D=document.querySelector(j),B=$(z),F=null,H=()=>{let I=q(B.getState(),B.update);X(D,I,F,0),F=I};return B.subscribe(H),H(),B},C=(j)=>{window.location.hash=j.startsWith("/")?j:`/${j}`},E=(j,...q)=>{let{href:z,...D}=j,B=window.location.hash.slice(1)||"/",F=z.startsWith("#")?z.slice(1):z,H=B===F;return R("a",{...D,href:`#${F}`,class:`${j.class||""} ${H?"active":""}`.trim()},...q)},G=(j,q,z={})=>{let D=document.querySelector(j);D.innerHTML="";let B=$(z),F=null,H=()=>{let I=window.location.hash;if(I&&!I?.startsWith("#/"))return;let L=window.location.hash.slice(1)||"/",O=q[L],U={};if(!O){for(let K in q)if(K.includes(":")){let M=new RegExp(`^${K.replace(/:[^\s/]+/g,"([^/]+)")}$`),b=L.match(M);if(b){O=q[K],K.match(/:[^\s/]+/g).forEach((W,T)=>U[W.substring(1)]=b[T+1]);break}}}let J=O||q["404"];if(J){let K=J(B.getState(),B.update,U);X(D,K,F,0),F=K}};return B.subscribe(H),window.addEventListener("hashchange",H),H(),B};export{Y as store,G as route,_ as patchProps,Z as patchProp,X as patch,C as navigate,A as mount,$ as isStore,R as h,Q as createElement,E as Link};
