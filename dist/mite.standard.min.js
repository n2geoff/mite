/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var R=(j,z={},...B)=>({tag:j||"fragment",props:z||{},children:B.flat().filter((F)=>F!==null&&F!==void 0&&F!==!1)});var $=(j,z,B={})=>{if(!j||j.nodeType!==1)return;let F={...B,...z};for(let q in F){let D=z[q],I=B[q];if(D===I||q==="key"||q==="oncreate")continue;if(q.startsWith("on")){let J=q.substring(2).toLowerCase();if(I)j.removeEventListener(J,I);if(D)j.addEventListener(J,D)}else if(q==="style"&&typeof D==="object")Object.assign(j.style,D);else if(q==="value"||q==="checked"||q==="selected")j[q]=D;else{let J=q==="className"?"class":q;if(D===!1||D==null)j.removeAttribute(J);else j.setAttribute(J,D===!0?"":D)}}},Q=(j,z=!1)=>{if(typeof j==="string"||typeof j==="number")return document.createTextNode(j);if(j.tag==="fragment"){let q=document.createDocumentFragment();return j.children.forEach((D)=>q.appendChild(Q(D,z))),q}let B=z||j.tag==="svg",F=B?document.createElementNS("http://www.w3.org/2000/svg",j.tag):document.createElement(j.tag);if($(F,j.props),j.children.forEach((q)=>F.appendChild(Q(q,B))),j.props?.oncreate)setTimeout(()=>j.props.oncreate(F),0);return F},_=(j,z,B,F=0)=>{if(!j)return;let q=j.childNodes[F];if(z===void 0){if(q)j.removeChild(q);return}if(!q){j.appendChild(Q(z));return}let D=typeof z==="string"||typeof z==="number",I=typeof B==="string"||typeof B==="number";if(D||I){if(z!==B)if(D&&I&&q.nodeType===3)q.nodeValue=z;else j.replaceChild(Q(z),q);return}if(z.tag!==B?.tag||z.props?.key!==B?.props?.key){j.replaceChild(Q(z),q);return}if(z.tag){if(z.tag!=="fragment")$(q,z.props,B?.props||{});let J=z.children||[],U=B?.children||[],X=Math.max(J.length,U.length),Z=z.tag==="fragment"?j:q;for(let K=0;K<X;K++)_(Z,J[K],U[K],K)}},Y=(j,z=!1)=>{let B={...j},F=[];return{getState:()=>B,update:(q)=>{if(B={...B,...q},z)console.log("State Update:",B);F.forEach((D)=>D(B))},subscribe:(q)=>F.push(q)}},b=(j)=>j?.subscribe?j:Y(j||{}),E=(j,z,B={})=>{let F=document.querySelector(j),q=b(B),D=null,I=()=>{let J=z(q.getState(),q.update);_(F,J,D,0),D=J};return q.subscribe(I),I(),q},G=(j)=>{window.location.hash=j.startsWith("/")?j:`/${j}`},T=(j,...z)=>{let{href:B,...F}=j,q=window.location.hash.slice(1)||"/",D=B.startsWith("#")?B.slice(1):B,I=q===D;return R("a",{...F,href:`#${D}`,class:`${j.class||""} ${I?"active":""}`.trim()},...z)},M=(j,z,B={})=>{let F=document.querySelector(j);F.innerHTML="";let q=b(B),D=null,I=()=>{let J=window.location.hash;if(J&&!J?.startsWith("#/"))return;let U=window.location.hash.slice(1)||"/",X=z[U],Z={};if(!X){for(let L in z)if(L.includes(":")){let W=new RegExp(`^${L.replace(/:[^\s/]+/g,"([^/]+)")}$`),H=U.match(W);if(H){X=z[L],L.match(/:[^\s/]+/g).forEach((A,C)=>Z[A.substring(1)]=H[C+1]);break}}}let K=X||z["404"];if(K){let L=K(q.getState(),q.update,Z);_(F,L,D,0),D=L}};return q.subscribe(I),window.addEventListener("hashchange",I),I(),q};export{M as router,$ as patchProps,_ as patch,G as navigate,E as mount,R as h,b as ensureStore,Y as createStore,Q as createElement,T as Link};
