/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var G=(q,B,...D)=>{let J=B&&typeof B==="object"&&!B.flat&&!B.tag;return{tag:q||"fragment",props:J?B:{},children:(J?D:[B,...D]).flat(1/0).filter((H)=>H!=null&&H!==!1&&H!=="")}},z=(q,B=!1)=>{if(typeof q!=="object")return document.createTextNode(q);if(q.tag==="fragment"){let H=document.createDocumentFragment();return q.children.forEach((K)=>H.appendChild(z(K,B))),H}let D=B||q.tag==="svg",J=D?document.createElementNS("http://www.w3.org/2000/svg",q.tag):document.createElement(q.tag);if(A(J,q.props),q.children.forEach((H)=>J.appendChild(z(H,D))),q.props?.oncreate)setTimeout(()=>q.props.oncreate(J));return J},A=(q,B={},D={})=>{let J={...D,...B};for(let H in J)if(B[H]!==D[H])C(q,H,B[H],D[H])},C=(q,B,D,J)=>{if(B.startsWith("on")){let H=B.slice(2).toLowerCase();if(J)q.removeEventListener(H,J);if(D)q.addEventListener(H,D)}else if(B==="style"){if(typeof D==="string")q.style.cssText=D;else if(q.style.cssText="",D)Object.assign(q.style,D)}else if(B in q&&B!=="list"&&B!=="form")q[B]=D==null?"":D;else if(D==null||D===!1)q.removeAttribute(B);else q.setAttribute(B,D===!0?"":D)},F=(q,B,D,J=0)=>{let H=q.childNodes[J];if(B==null)return H&&q.removeChild(H);if(!H)return q.appendChild(z(B));let K=typeof B==="object";if(K!==(typeof D==="object")||K&&(B.tag!==D.tag||B.props?.key!==D.props?.key))return q.replaceChild(z(B),H);if(K){A(H,B.props,D.props);let W=B.children,Z=D.children,_=Math.max(W.length,Z.length),$=B.tag==="fragment"?q:H;for(let X=0;X<_;X++)F($,W[X],Z[X],X)}else if(H.nodeValue!==B)H.nodeValue=B},E=(q,B=!1)=>{let D={...q},J=[];return{getState:()=>D,update:(H)=>{if(D={...D,...H},B)console.log("State Update:",D);J.forEach((K)=>K(D))},subscribe:(H)=>J.push(H)}},I=(q)=>q?.subscribe?q:E(q||{}),j=(q,B,D={})=>{let J=document.querySelector(q),H=I(D),K=null,Q=()=>{let W=B(H.getState(),H.update);F(J,W,K,0),K=W};return H.subscribe(Q),Q(),H},O=(q)=>{window.location.hash=q.startsWith("/")?q:`/${q}`},b=(q,...B)=>{let{href:D,...J}=q,H=window.location.hash.slice(1)||"/",K=D.startsWith("#")?D.slice(1):D,Q=H===K;return G("a",{...J,href:`#${K}`,class:`${q.class||""} ${Q?"active":""}`.trim()},...B)},S=(q,B,D={})=>{let J=document.querySelector(q),H=I(D),K=null,Q=()=>{let W=window.location.hash;if(W&&!W.startsWith("#/"))return;let Z=W.slice(1)||"/",_=B[Z],$={};if(!_){for(let Y in B)if(Y.includes(":")){let R=new RegExp(`^${Y.replace(/:[^\s/]+/g,"([^/]+)")}$`),L=Z.match(R);if(L){_=B[Y];let U=Y.match(/:[^\s/]+/g);if(U)U.forEach((T,M)=>$[T.substring(1)]=L[M+1]);break}}}let X=_||B["404"];if(X){let Y=X(H.getState(),H.update,$);F(J,Y,K,0),K=Y}};return H.subscribe(Q),window.addEventListener("hashchange",Q),Q(),H};export{E as store,S as route,A as patchProps,C as patchProp,F as patch,O as navigate,j as mount,I as isStore,G as h,z as createElement,b as Link};
