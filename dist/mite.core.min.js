/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var L=(q,j,...z)=>{let D=j&&typeof j==="object"&&!j.flat&&!j.tag;return{tag:q||"fragment",props:D?j:{},children:(D?z:[j,...z]).flat(1/0).filter((B)=>B!=null&&B!==!1&&B!=="")}};var J=(q,j=!1)=>{if(typeof q!=="object")return document.createTextNode(q);if(q.tag==="fragment"){let B=document.createDocumentFragment();return q.children.forEach((F)=>B.appendChild(J(F,j))),B}let z=j||q.tag==="svg",D=z?document.createElementNS("http://www.w3.org/2000/svg",q.tag):document.createElement(q.tag);if(Q(D,q.props),q.children.forEach((B)=>D.appendChild(J(B,z))),q.props?.oncreate)setTimeout(()=>q.props.oncreate(D));return D},Q=(q,j={},z={})=>{for(let D in j)if(j[D]!==z[D])O(q,D,j[D],z[D]);for(let D in z)if(!(D in j))O(q,D,null,z[D])},O=(q,j,z,D)=>{if(j.startsWith("on")){let B=j.slice(2).toLowerCase();if(D)q.removeEventListener(B,D);if(z)q.addEventListener(B,z)}else if(j==="style"){if(typeof z==="string")q.style.cssText=z;else if(q.style.cssText="",z)Object.assign(q.style,z)}else if(j in q&&j!=="list"&&j!=="form")q[j]=z==null?"":z;else if(z==null||z===!1)q.removeAttribute(j);else q.setAttribute(j,z===!0?"":z)},U=(q,j,z,D=0)=>{let B=q.childNodes[D];if(j==null)return B&&q.removeChild(B);if(!B)return q.appendChild(J(j));let F=typeof j!=="object";if(F!==(typeof z!=="object")||(F?j!==z:j.tag!==z.tag||j.props?.key!==z.props?.key))return q.replaceChild(J(j),B);if(!F){Q(B,j.props,z.props);let H=j.children,X=z.children,$=Math.max(H.length,X.length),b=j.tag==="fragment"?q:B;for(let I=0;I<$;I++)U(b,H[I],X[I],I)}else if(B.nodeValue!==j)B.nodeValue=j},Z=(q,j=!1)=>{let z={...q},D=[];return{getState:()=>z,update:(B)=>{if(z={...z,...B},j)console.log("State Update:",z);D.forEach((F)=>F(z))},subscribe:(B)=>D.push(B)}},_=(q)=>q?.subscribe?q:Z(q||{}),R=(q,j,z={})=>{let D=document.querySelector(q),B=_(z),F=null,K=()=>{let H=j(B.getState(),B.update);U(D,H,F,0),F=H};return B.subscribe(K),K(),B};export{Z as store,Q as patchProps,O as patchProp,U as patch,R as mount,_ as isStore,L as h,J as createElement};
