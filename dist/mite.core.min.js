/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var I=(q,B,...D)=>{let J=B&&typeof B==="object"&&!B.flat&&!B.tag;return{tag:q||"fragment",props:J?B:{},children:(J?D:[B,...D]).flat(1/0).filter((H)=>H!=null&&H!==!1&&H!=="")}},X=(q,B=!1)=>{if(typeof q!=="object")return document.createTextNode(q);if(q.tag==="fragment"){let H=document.createDocumentFragment();return q.children.forEach((K)=>H.appendChild(X(K,B))),H}let D=B||q.tag==="svg",J=D?document.createElementNS("http://www.w3.org/2000/svg",q.tag):document.createElement(q.tag);if(Z(J,q.props),q.children.forEach((H)=>J.appendChild(X(H,D))),q.props?.oncreate)setTimeout(()=>q.props.oncreate(J));return J},Z=(q,B={},D={})=>{let J={...D,...B};for(let H in J)if(B[H]!==D[H])z(q,H,B[H],D[H])},z=(q,B,D,J)=>{if(B.startsWith("on")){let H=B.slice(2).toLowerCase();if(J)q.removeEventListener(H,J);if(D)q.addEventListener(H,D)}else if(B==="style"){if(typeof D==="string")q.style.cssText=D;else if(q.style.cssText="",D)Object.assign(q.style,D)}else if(B in q&&B!=="list"&&B!=="form")q[B]=D==null?"":D;else if(D==null||D===!1)q.removeAttribute(B);else q.setAttribute(B,D===!0?"":D)},_=(q,B,D,J=0)=>{let H=q.childNodes[J];if(B==null)return H&&q.removeChild(H);if(!H)return q.appendChild(X(B));let K=typeof B==="object";if(K!==(typeof D==="object")||K&&(B?.tag!==D?.tag||B.props?.key!==D.props?.key))return q.replaceChild(X(B),H);if(K){Z(H,B.props,D.props);let Q=B.children,$=D.children,L=Math.max(Q.length,$.length),U=B.tag==="fragment"?q:H;for(let W=0;W<L;W++)_(U,Q[W],$[W],W>=Q.length?Q.length:W)}else if(H.nodeValue!==B)H.nodeValue=B},A=(q,B=!1)=>{let D={...q},J=[];return{getState:()=>D,update:(H)=>{if(D={...D,...H},B)console.log("State Update:",D);J.forEach((K)=>K(D))},subscribe:(H)=>J.push(H)}},F=(q)=>q?.subscribe?q:A(q||{}),R=(q,B,D={})=>{let J=document.querySelector(q),H=F(D),K=null,Y=()=>{let Q=B(H.getState(),H.update);_(J,Q,K,0),K=Q};return H.subscribe(Y),Y(),H};export{A as signal,Z as patchProps,z as patchProp,_ as patch,R as mount,I as h,X as createElement,F as asSignal};
