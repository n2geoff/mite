/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var L=(j,z={},...B)=>({tag:j||"fragment",props:z||{},children:B.flat().filter((F)=>F!==null&&F!==void 0&&F!==!1)});var U=(j,z,B={})=>{if(!j||j.nodeType!==1)return;let F={...B,...z};for(let q in F){let D=z[q],J=B[q];if(D===J||q==="key"||q==="oncreate")continue;if(q.startsWith("on")){let I=q.substring(2).toLowerCase();if(J)j.removeEventListener(I,J);if(D)j.addEventListener(I,D)}else if(q==="style"&&typeof D==="object")Object.assign(j.style,D);else if(q==="value"||q==="checked"||q==="selected")j[q]=D;else{let I=q==="className"?"class":q;if(D===!1||D==null)j.removeAttribute(I);else j.setAttribute(I,D===!0?"":D)}}},K=(j,z=!1)=>{if(typeof j==="string"||typeof j==="number")return document.createTextNode(j);if(j.tag==="fragment"){let q=document.createDocumentFragment();return j.children.forEach((D)=>q.appendChild(K(D,z))),q}let B=z||j.tag==="svg",F=B?document.createElementNS("http://www.w3.org/2000/svg",j.tag):document.createElement(j.tag);if(U(F,j.props),j.children.forEach((q)=>F.appendChild(K(q,B))),j.props?.oncreate)setTimeout(()=>j.props.oncreate(F),0);return F},X=(j,z,B,F=0)=>{if(!j)return;let q=j.childNodes[F];if(z===void 0){if(q)j.removeChild(q);return}if(!q){j.appendChild(K(z));return}let D=typeof z==="string"||typeof z==="number",J=typeof B==="string"||typeof B==="number";if(D||J){if(z!==B)if(D&&J&&q.nodeType===3)q.nodeValue=z;else j.replaceChild(K(z),q);return}if(z.tag!==B?.tag||z.props?.key!==B?.props?.key){j.replaceChild(K(z),q);return}if(z.tag){if(z.tag!=="fragment")U(q,z.props,B?.props||{});let I=z.children||[],Z=B?.children||[],b=Math.max(I.length,Z.length),H=z.tag==="fragment"?j:q;for(let Q=0;Q<b;Q++)X(H,I[Q],Z[Q],Q)}},_=(j,z=!1)=>{let B={...j},F=[];return{getState:()=>B,update:(q)=>{if(B={...B,...q},z)console.log("State Update:",B);F.forEach((D)=>D(B))},subscribe:(q)=>F.push(q)}},$=(j)=>j?.subscribe?j:_(j||{}),R=(j,z,B={})=>{let F=document.querySelector(j),q=$(B),D=null,J=()=>{let I=z(q.getState(),q.update);X(F,I,D,0),D=I};return q.subscribe(J),J(),q};export{_ as store,U as patchProps,X as patch,R as mount,$ as isStore,L as h,K as createElement};
