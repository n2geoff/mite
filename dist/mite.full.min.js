/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var Z=(q,j,...z)=>{let D=j&&typeof j==="object"&&!j.flat&&!j.tag;return{tag:q||"fragment",props:D?j:{},children:(D?z:[j,...z]).flat(1/0).filter((B)=>B!=null&&B!==!1&&B!=="")}},C=(q,...j)=>{let z=q.reduce((I,J,K)=>{let F=j[K],O=F!=null&&(typeof F==="object"||typeof F==="function")?`__HV_${K}__`:F??"";return I+J+O},""),D=document.createElement("template");D.innerHTML=z.trim();let B=(I)=>{if(I.nodeType===3){let J=I.textContent;if(!J.trim())return null;let K=J.split(/(__HV_\d+__)/g).filter(Boolean).map((F)=>{let O=F.match(/__HV_(\d+)__/);return O?j[parseInt(O[1])]:F});return K.length===1?K[0]:K}if(I.nodeType===1){let J={};for(let F of I.attributes){let O=F.value.match(/__HV_(\d+)__/);J[F.name==="class"?"class":F.name]=O?j[O[1]]:F.value}let K=Array.from(I.childNodes).map(B).filter((F)=>F&&(typeof F!=="string"||F.trim()));return Z(I.tagName.toLowerCase(),J,...K)}},H=D.content;return H.childNodes.length===1?B(H.firstChild):Z("fragment",null,...Array.from(H.childNodes).map(B))},X=(q,j=!1)=>{if(typeof q!=="object")return document.createTextNode(q);if(q.tag==="fragment"){let B=document.createDocumentFragment();return q.children.forEach((H)=>B.appendChild(X(H,j))),B}let z=j||q.tag==="svg",D=z?document.createElementNS("http://www.w3.org/2000/svg",q.tag):document.createElement(q.tag);if(L(D,q.props),q.children.forEach((B)=>D.appendChild(X(B,z))),q.props?.oncreate)setTimeout(()=>q.props.oncreate(D));return D},L=(q,j={},z={})=>{for(let D in j)if(j[D]!==z[D])b(q,D,j[D],z[D]);for(let D in z)if(!(D in j))b(q,D,null,z[D])},b=(q,j,z,D)=>{if(j.startsWith("on")){let B=j.slice(2).toLowerCase();if(D)q.removeEventListener(B,D);if(z)q.addEventListener(B,z)}else if(j==="style"){if(typeof z==="string")q.style.cssText=z;else if(q.style.cssText="",z)Object.assign(q.style,z)}else if(j in q&&j!=="list"&&j!=="form")q[j]=z==null?"":z;else if(z==null||z===!1)q.removeAttribute(j);else q.setAttribute(j,z===!0?"":z)},_=(q,j,z,D=0)=>{let B=q.childNodes[D];if(j==null)return B&&q.removeChild(B);if(!B)return q.appendChild(X(j));let H=typeof j!=="object";if(H!==(typeof z!=="object")||(H?j!==z:j.tag!==z.tag||j.props?.key!==z.props?.key))return q.replaceChild(X(j),B);if(!H){L(B,j.props,z.props);let J=j.children,K=z.children,F=Math.max(J.length,K.length),O=j.tag==="fragment"?q:B;for(let Q=0;Q<F;Q++)_(O,J[Q],K[Q],Q)}else if(B.nodeValue!==j)B.nodeValue=j},T=(q,j=!1)=>{let z={...q},D=[];return{getState:()=>z,update:(B)=>{if(z={...z,...B},j)console.log("State Update:",z);D.forEach((H)=>H(z))},subscribe:(B)=>D.push(B)}},R=(q)=>q?.subscribe?q:T(q||{}),G=(q,j,z={})=>{let D=document.querySelector(q),B=R(z),H=null,I=()=>{let J=j(B.getState(),B.update);_(D,J,H,0),H=J};return B.subscribe(I),I(),B},E=(q)=>{window.location.hash=q.startsWith("/")?q:`/${q}`},S=(q,...j)=>{let{href:z,...D}=q,B=window.location.hash.slice(1)||"/",H=z.startsWith("#")?z.slice(1):z,I=B===H;return Z("a",{...D,href:`#${H}`,class:`${q.class||""} ${I?"active":""}`.trim()},...j)},f=(q,j,z={})=>{let D=document.querySelector(q);D.innerHTML="";let B=R(z),H=null,I=()=>{let J=window.location.hash;if(J&&!J?.startsWith("#/"))return;let K=window.location.hash.slice(1)||"/",F=j[K],O={};if(!F){for(let U in j)if(U.includes(":")){let Y=new RegExp(`^${U.replace(/:[^\s/]+/g,"([^/]+)")}$`),$=K.match(Y);if($){F=j[U],U.match(/:[^\s/]+/g).forEach((M,W)=>O[M.substring(1)]=$[W+1]);break}}}let Q=F||j["404"];if(Q){let U=Q(B.getState(),B.update,O);_(D,U,H,0),H=U}};return B.subscribe(I),window.addEventListener("hashchange",I),I(),B};export{T as store,f as route,L as patchProps,b as patchProp,_ as patch,E as navigate,G as mount,R as isStore,C as html,Z as h,X as createElement,S as Link};
