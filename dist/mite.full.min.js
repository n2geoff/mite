/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var F=(q,B,...H)=>{let J=B&&typeof B==="object"&&!B.flat&&!B.tag;return{tag:q||"fragment",props:J?B:{},children:(J?H:[B,...H]).flat(1/0).filter((D)=>D!=null&&D!==!1&&D!=="")}},j=(q,...B)=>{let H=q.reduce((W,X,Y)=>{let K=B[Y],Z=K!=null&&(typeof K==="object"||typeof K==="function")?`__HV_${Y}__`:K??"";return W+X+Z},""),J=document.createElement("template");J.innerHTML=H.trim();let D=(W)=>{if(W.nodeType===3){let X=W.textContent;if(!X.trim())return null;let Y=X.split(/(__HV_\d+__)/g).filter(Boolean).map((K)=>{let Z=K.match(/__HV_(\d+)__/);return Z?B[parseInt(Z[1])]:K});return Y.length===1?Y[0]:Y}if(W.nodeType===1){let X={};for(let K of W.attributes){let Z=K.value.match(/__HV_(\d+)__/);X[K.name==="class"?"class":K.name]=Z?B[Z[1]]:K.value}let Y=Array.from(W.childNodes).map(D).filter((K)=>K&&(typeof K!=="string"||K.trim()));return F(W.tagName.toLowerCase(),X,...Y)}},Q=J.content;return Q.childNodes.length===1?D(Q.firstChild):F("fragment",null,...Array.from(Q.childNodes).map(D))},z=(q,B=!1)=>{if(typeof q!=="object")return document.createTextNode(q);if(q.tag==="fragment"){let D=document.createDocumentFragment();return q.children.forEach((Q)=>D.appendChild(z(Q,B))),D}let H=B||q.tag==="svg",J=H?document.createElementNS("http://www.w3.org/2000/svg",q.tag):document.createElement(q.tag);if(I(J,q.props),q.children.forEach((D)=>J.appendChild(z(D,H))),q.props?.oncreate)setTimeout(()=>q.props.oncreate(J));return J},I=(q,B={},H={})=>{let J={...H,...B};for(let D in J)if(B[D]!==H[D])C(q,D,B[D],H[D])},C=(q,B,H,J)=>{if(B.startsWith("on")){let D=B.slice(2).toLowerCase();if(J)q.removeEventListener(D,J);if(H)q.addEventListener(D,H)}else if(B==="style"){if(typeof H==="string")q.style.cssText=H;else if(q.style.cssText="",H)Object.assign(q.style,H)}else if(B in q&&B!=="list"&&B!=="form")q[B]=H==null?"":H;else if(H==null||H===!1)q.removeAttribute(B);else q.setAttribute(B,H===!0?"":H)},L=(q,B,H,J=0)=>{let D=q.childNodes[J];if(B==null)return D&&q.removeChild(D);if(!D)return q.appendChild(z(B));let Q=typeof B==="object";if(Q!==(typeof H==="object")||Q&&(B.tag!==H.tag||B.props?.key!==H.props?.key))return q.replaceChild(z(B),D);if(Q){I(D,B.props,H.props);let X=B.children,Y=H.children,K=Math.max(X.length,Y.length),Z=B.tag==="fragment"?q:D;for(let _=0;_<K;_++)L(Z,X[_],Y[_],_)}else if(D.nodeValue!==B)D.nodeValue=B},E=(q,B=!1)=>{let H={...q},J=[];return{getState:()=>H,update:(D)=>{if(H={...H,...D},B)console.log("State Update:",H);J.forEach((Q)=>Q(H))},subscribe:(D)=>J.push(D)}},R=(q)=>q?.subscribe?q:E(q||{}),O=(q,B,H={})=>{let J=document.querySelector(q),D=R(H),Q=null,W=()=>{let X=B(D.getState(),D.update);L(J,X,Q,0),Q=X};return D.subscribe(W),W(),D},b=(q)=>{window.location.hash=q.startsWith("/")?q:`/${q}`},S=(q,...B)=>{let{href:H,...J}=q,D=window.location.hash.slice(1)||"/",Q=H.startsWith("#")?H.slice(1):H,W=D===Q;return F("a",{...J,href:`#${Q}`,class:`${q.class||""} ${W?"active":""}`.trim()},...B)},V=(q,B,H={})=>{let J=document.querySelector(q),D=R(H),Q=null,W=()=>{let X=window.location.hash;if(X&&!X.startsWith("#/"))return;let Y=X.slice(1)||"/",K=B[Y],Z={};if(!K){for(let $ in B)if($.includes(":")){let T=new RegExp(`^${$.replace(/:[^\s/]+/g,"([^/]+)")}$`),U=Y.match(T);if(U){K=B[$];let A=$.match(/:[^\s/]+/g);if(A)A.forEach((M,G)=>Z[M.substring(1)]=U[G+1]);break}}}let _=K||B["404"];if(_){let $=_(D.getState(),D.update,Z);L(J,$,Q,0),Q=$}};return D.subscribe(W),window.addEventListener("hashchange",W),W(),D};export{E as store,V as route,I as patchProps,C as patchProp,L as patch,b as navigate,O as mount,R as isStore,j as html,F as h,z as createElement,S as Link};
