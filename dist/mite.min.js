/* Mite.js v1.0.0 | MIT License | https://github.com/n2geoff/mite */
var j=(B,q,...H)=>{let J=q&&typeof q==="object"&&!q.flat&&!q.tag;return{tag:B||"fragment",props:J?q:{},children:(J?H:[q,...H]).flat(1/0).filter((D)=>D!=null&&D!==!1&&D!=="")}},$=(B,q=!1)=>{if(typeof B!=="object")return document.createTextNode(B);if(B.tag==="fragment"){let D=document.createDocumentFragment();return B.children.forEach((K)=>D.appendChild($(K,q))),D}let H=q||B.tag==="svg",J=H?document.createElementNS("http://www.w3.org/2000/svg",B.tag):document.createElement(B.tag);if(F(J,B.props),B.children.forEach((D)=>J.appendChild($(D,H))),B.props?.oncreate)setTimeout(()=>B.props.oncreate(J));return J},F=(B,q={},H={})=>{let J={...H,...q};for(let D in J)if(q[D]!==H[D])R(B,D,q[D],H[D])},R=(B,q,H,J)=>{if(q.startsWith("on")){let D=q.slice(2).toLowerCase();if(J)B.removeEventListener(D,J);if(H)B.addEventListener(D,H)}else if(q==="style"){if(typeof H==="string")B.style.cssText=H;else if(B.style.cssText="",H)Object.assign(B.style,H)}else if(q in B&&q!=="list"&&q!=="form")B[q]=H==null?"":H;else if(H==null||H===!1)B.removeAttribute(q);else B.setAttribute(q,H===!0?"":H)},A=(B,q,H,J=0)=>{let D=B.childNodes[J];if(q==null)return D&&B.removeChild(D);if(!D)return B.appendChild($(q));let K=typeof q==="object";if(K!==(typeof H==="object")||K&&(q?.tag!==H?.tag||q.props?.key!==H.props?.key))return B.replaceChild($(q),D);if(K){F(D,q.props,H.props);let Q=q.children,Z=H.children,_=Math.max(Q.length,Z.length),z=q.tag==="fragment"?B:D;for(let W=0;W<_;W++)A(z,Q[W],Z[W],W>=Q.length?Q.length:W)}else if(D.nodeValue!==q)D.nodeValue=q},T=(B,q=!1)=>{let H={...B},J=[];return{getState:()=>H,update:(D)=>{if(H={...H,...D},q)console.log("State Update:",H);J.forEach((K)=>K(H))},subscribe:(D)=>J.push(D)}},L=(B)=>B?.subscribe?B:T(B||{}),O=(B,q,H={})=>{let J=document.querySelector(B),D=L(H),K=null,X=()=>{let Q=q(D.getState(),D.update);A(J,Q,K,0),K=Q};return D.subscribe(X),X(),D},C=(B,q,H={})=>{let J=document.querySelector(B),D=L(H),K=null,X=()=>{let Q=window.location.hash;if(Q&&!Q.startsWith("#/"))return;let Z=Q.slice(1)||"/",_=q[Z],z={};if(!_){for(let Y in q)if(Y.includes(":")){let M=new RegExp(`^${Y.replace(/:[^\s/]+/g,"([^/]+)")}$`),U=Z.match(M);if(U){_=q[Y];let I=Y.match(/:[^\s/]+/g);if(I)I.forEach((E,G)=>z[E.substring(1)]=U[G+1]);break}}}let W=_||q["404"];if(W){let Y=W(D.getState(),D.update,z);A(J,Y,K,0),K=Y}};return D.subscribe(X),window.addEventListener("hashchange",X),X(),D};export{T as signal,C as route,F as patchProps,R as patchProp,A as patch,O as mount,j as h,$ as createElement,L as asSignal};
